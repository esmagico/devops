include:
  - ./common/monitoring/uat/docker-compose.agents.yaml
  - ./common/kong/docker-compose.yaml
  - ./common/rabbitmq/docker-compose.yaml
  - ./common/hasura/docker-compose.yaml
  - ./common/keycloak/docker-compose.yaml
  - ./epic/telemetry/docker-compose.yaml
  - ./epic/context_service/docker-compose.yaml
  - ./epic/epic_global_contracts/docker-compose.yaml
  - ./epic/epic_global_ai/docker-compose.yaml
  - ./epic/image_service/docker-compose.yaml
  - ./epic/epic_global_backend/docker-compose.yaml
  - ./epic/epic_global_frontend/docker-compose.yaml

services:
  caddy:
    extends:
      file: ./common/caddy/docker-compose.yaml
      service: caddy
    volumes:
      - ./common:/etc/caddy/common
      - ./caddyfile-overrides/dev/Caddyfile.dev:/etc/caddy/Caddyfile
      - caddy_data:/data
      - caddy_config:/config
      - ./epic:/etc/caddy/epic
volumes:
  caddy_data:
  caddy_config:
